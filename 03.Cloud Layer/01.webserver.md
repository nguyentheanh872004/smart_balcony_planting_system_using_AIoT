# Webserver Apache2
### 1. Cài sẵn 1 webserver ở trên Ubuntu.
```bash
sudo apt install apache2
```
### 2. Tạo thư mục chứa file tĩnh
```plaintext
sudo mkdir -p /var/www/mywebsite
```
- Phân quyền cho User hiện tại:
```plaintext
sudo chown -R $Aaaaaaa:$root /var/www/mywebsite
```


#### 3. Tạo file chứa nội dung web tĩnh
```plaintext
sudo touch /var/www/mywebsite/index.html
```
#### 4. Tạo file Virtual Host riêng
Apache mặc định có site /etc/apache2/sites-available/000-default.conf. Ta tạo site riêng để quản lý dễ hơn:
```plaintext
sudo nano /etc/apache2/sites-available/mywebsite.conf
```

Thêm nội dung
```html
<VirtualHost *:80>
    ServerAdmin admin@mywebsite.com
    ServerName mywebsite.com
    Server Alias www.mywebsite.com
    DocumentRoot /var/www/mywebsite

    <Directory /var/www/mywebsite>
        Options Indexes FollowSymLinks
        AllowOVerride None
        Require all granted
    </Directory>
    
    ErrorLog ${APACHE_LOG_DIR}/mywebsite_error.log
    CustomLog ${APACHE_LOG_DIR}/mywebsite_access.log combined
</VirtualHost>
```
#### 5. Kích hoạt website `mywebsite` và tắt site mặc định
```plaintext
sudo a2ensite mywebsite.conf
sudo a2dissite 000-default.conf
sudo systemctl reload apache2
```
#### 6. Kiểm tra cấu hình trước khi khởi động lại
```plaintext
sudo apache2ctl configtest
```
#### 7. Check firewall (ufw)
- Kiểm tra xem apache2 đang nghe port nào: sudo apache2ctl -S
```plaintext
sudo ufw allow 8080/tcp
sudo systemctl restart apache2
```